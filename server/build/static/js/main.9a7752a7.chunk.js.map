{"version":3,"sources":["Pages/TestLogin.js","Pages/NotFound.js","components/Custom_Nav/z_nav.js","Pages/SessionExpired.js","components/UserInsights.js","components/dashboard.js","App.js","index.js"],"names":["TestLogin","props","state","username","password","redirect","handleSubmit","bind","handleInputChange","event","preventDefault","target","this","setState","name","value","e","postData","submittedUsername","submittedPass","axios","post","headers","then","res","data","alert","tokenExp","Math","floor","Date","now","setTimeout","history","push","pathname","loggedIn","token","catch","error","to","className","id","htmlFor","type","required","onChange","Button","variant","onClick","href","React","Component","PageNotFound","ZNav","Fragment","AppBar","position","Toolbar","IconButton","size","edge","color","sx","mr","SessionExpired","UserInsights","tUname","isLoaded","jdata","userName","passusername","uName","Object","keys","portfolio","stocks","map","stock","totalValue","current_price","quantity","Dashboard","items","currTime","location","App","exact","path","component","ReactDOM","render","document","getElementById","console","log"],"mappings":"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","file":"static/js/main.9a7752a7.chunk.js","sourcesContent":["import React from \"react\";\n// import { Redirect } from \"react-router-dom\";\nimport Button from '@mui/material/Button';\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\nimport axios from 'axios';\n\nimport './TestLogin.css';\nimport { Redirect } from \"react-router\";\n\nclass TestLogin extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            redirect: null\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(event) {\n        event.preventDefault();\n        \n        const target = event.target;\n    \n        this.setState({\n            [target.name]: target.value\n        });\n      }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        const postData = {\n            submittedUsername: this.state.username,\n            submittedPass: this.state.password\n        }\n\n        axios.post( '/logins', \n                    {postData}, {\n                        headers: {\n                          'Content-Type': 'application/json'\n                        }\n                      })\n            .then(res => {\n                if(res.data==='Invalid Credentials!') {\n                    alert(res.data);\n                }\n                else {\n                    // Set token exp\n                    const tokenExp = Math.floor(Date.now() / 1000) + (60*60)\n                    \n                    // Set the user's auth state\n                    setTimeout(() =>\n                        this.props.history.push({\n                        pathname:'/home',\n                        state: {\n                            username: this.state.username,\n                            loggedIn: true,\n                            token: res.data,\n                            tokenExp: tokenExp\n                        }\n                    }), 500);\n                }\n            })\n            .catch(function (error) {\n                // Bouncer for 429 - too many requests\n                alert(\"Too many bad attempts! Please wait a few minutes\");\n            });\n        }\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to={this.state.redirect} />\n        }\n        return (\n            <div className=\"submit-form\">\n    \n                <div id=\"login-icon\">\n                    <LockOutlinedIcon />\n                </div>\n                \n                <div id=\"banner\">\n                    Sign in\n                </div>\n\n                <div id=\"inputs\">\n                    <form>\n                        <label htmlFor=\"user\">Username</label>\n                        <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"name\"\n                        required\n                        value={this.username}\n                        onChange={this.handleInputChange}\n                        name=\"username\"\n                        />\n                    \n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        id=\"pass\"\n                        required\n                        value={this.password}\n                        onChange={this.handleInputChange}\n                        name=\"password\"\n                        />\n                        <Button variant=\"contained\" \n                                id=\"login-btn\" \n                                type=\"submit\" \n                                onClick={this.handleSubmit}>\n                            Login\n                        </Button>\n                    </form>\n                </div>\n                \n                <div id=\"login-help\">\n                    <div id=\"Sign-up\">\n                        <a href=\".\">Don't have an Account? Sign Up</a>\n                    </div>\n                </div>\n    \n            </div>\n        );\n    }\n    \n}\n\nexport default TestLogin;","import React from \"react\";\n\nfunction PageNotFound() {\n    return (<h1>Page not found</h1>);\n};\n\nexport default PageNotFound;","import React from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport \"./z_nav.css\"\nimport Toolbar from '@mui/material/Toolbar';\nimport MenuIcon from '@material-ui/icons/Menu';\n// import Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport { IconButton } from '@mui/material';\nimport { Link } from \"react-router-dom\";\n\n// history.push({\n//     pathname: '/home',\n//     state: {\n//         userName: username,\n//     }\n\n// Main Navbar used throughout the website\nconst ZNav = props => {\n\n    return (\n        <React.Fragment>\n          <AppBar position=\"fixed\">\n            <Toolbar>\n                <IconButton\n                size=\"large\"\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"menu\"\n                sx={{ mr: 2 }}\n            >\n                <MenuIcon />\n            </IconButton>\n\n            {/* TODO - on click, bring back home */}\n            <Button color=\"inherit\" id=\"Navbar-Brand\">\n                PSUTrade\n            </Button>\n\n            <div className=\"navbar-nav me-auto\" id=\"sub-links\">\n                <li className=\"nav-item\">\n                    {/* <Link to={\"/insights\"} className=\"nav-link\">\n                    Insights\n                    </Link> */}\n                    <Button className=\"link-buttons\">\n                        Insights\n                    </Button>\n                </li>\n            </div>\n\n            <div className=\"container mt-3\"></div> {/* Divider */}\n\n            <Button color=\"inherit\">\n                    <Link to={\"/\"} className=\"nav-link\" id=\"logout-button\">\n                        Logout - {props.username}\n                    </Link>\n            </Button>\n\n            </Toolbar>\n          </AppBar>\n        <Toolbar /> {/* Added to ensure things don't go behind toolbar */}\n        </React.Fragment>\n      );\n};\n\nexport default ZNav;","import React from \"react\";\n\nfunction SessionExpired() {\n    return (<h1>Session Expired - please log back in</h1>);\n};\n\nexport default SessionExpired;","import React from \"react\";\n\nimport './dashboard.css';\nimport axios from \"axios\";\n\nclass UserInsights extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tUname: 'test',\n            isLoaded: false,\n            jdata: null\n        };\n    }\n\n    componentDidMount() {\n\n        let userName = this.props.passusername;\n    \n        axios.post('/posts',\n                {uName: userName}, {\n                    headers: {\n                    'Content-Type': 'application/json'\n                    }\n                })\n        .then(res => {    \n            this.setState({\n                isLoaded: true,\n                jdata: res.data\n            })\n        })  \n    }\n\n    render() {\n        const {isLoaded, jdata } = this.state; \n        \n        if (!isLoaded) {\n            return <div>Loading...</div>;\n        } else {\n            return (\n            <div>\n                {Object.keys(jdata.portfolio.stocks).map((stock) => {\n                    var stockPrice = jdata.portfolio.stocks[stock].current_price;\n                    var stockQuant = jdata.portfolio.stocks[stock].quantity;\n    \n                    var totalValue =  stockPrice * stockQuant;\n                    return (\n                        <ul key={stock} id='stock_listings'>\n                            <h5>{stock}: Current value held: ${totalValue}</h5>\n                            <li>\n                                Current Price: ${jdata.portfolio.stocks[stock].current_price}\n                            </li>\n                            <li>\n                                Total Shares: {jdata.portfolio.stocks[stock].quantity}\n                            </li>\n                        </ul>\n                    )\n                })}\n            </div>\n              \n            );\n        }\n    }\n}\n\nexport default UserInsights;","// import React, { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport ZNav from './Custom_Nav/z_nav';\nimport PageNotFound from \"../Pages/NotFound\";\nimport SessionExpired from \"../Pages/SessionExpired\";\n\nimport './dashboard.css';\nimport UserInsights from './UserInsights';\n\nfunction mocked_insights(props) {\n    if (props.location.state.username ==='test') {\n        return (\n            <div>\n                <ul id='stock_listings'>\n                    <h4><b>APPL insights</b></h4>\n                    <p>\n                        Apple is a tech firm based out of California, and has....\n                    </p>\n                    <p>bla bla bla</p>\n                    <p>bla bla bla</p>\n                    <p>bla bla bla</p>\n\n                    <h5><b>Stocks like APPL</b></h5>\n                    <p>\n                        MSFT, NVDA, TSLA, FB, LYFT, UBER..\n                    </p>\n                </ul>\n                <ul id='stock_listings'>\n                    <h4><b>MSFT insights</b></h4>\n                    <p>\n                        Microsoft is a tech firm based out of Washington state, and has...\n                    </p>\n                    <p>bla bla bla</p>\n                    <p>bla bla bla</p>\n                    <p>bla bla bla</p>\n\n                    <h5><b>Stocks like MSFT</b></h5>\n                    <p>\n                        AAPL, NVDA, TSLA, FB, LYFT, UBER..\n                    </p>\n                </ul>\n            </div>\n        )\n    }\n    if (props.location.state.username ==='test_xyz') {\n        return (\n            <div>\n                <ul id='stock_listings'>\n                    <h4><b>BOIL insights</b></h4>\n                    <p>\n                        BOIL is a leveraged ETF for natural gas, and has..\n                    </p>\n                    <p>BOIL has notable changes due to seasonality!</p>\n                    <p>bla bla bla</p>\n\n                    <h5><b>Stocks like BOIL</b></h5>\n                    <p>\n                        KOLD, BP, RDS.A...\n                    </p>\n                </ul>\n                <ul id='stock_listings'>\n                    <h4><b>KOLD insights</b></h4>\n                    <p>\n                        KOLD is a leveraged Short ETF for natural gas, and has.. \n                    </p>\n                    <p>KOLD has notable changes due to seasonality!</p>\n                    <p>bla bla bla</p>\n\n                    <h5><b>Stocks like KOLD</b></h5>\n                    <p>\n                        BOIL, BP, RDS.A...\n                    </p>\n                </ul>\n            </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                Error Loading Data!\n            </div>\n        )\n    }\n}\n\nclass Dashboard extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoaded: false,\n            items: []\n        };\n    }\n\n    render() {\n        const currTime = Math.floor(Date.now() / 1000);\n\n        try {\n            // Check if the token is valid\n            if (currTime > this.props.location.state.tokenExp) {\n                return <SessionExpired />\n            } else {\n                return (\n                    <>\n                    <div>\n                        <ZNav username={this.props.location.state.username}/>\n                    </div>\n            \n                    <div id='greeting'>\n                        <h1>Good Morning, {this.props.location.state.username}!</h1>\n                    </div>\n            \n                    <div id='user-content'>\n                    <div className='content-block' id='user-portfolio'>  \n                        <div className='content'>\n                            <h1>{this.props.location.state.username}'s Portfolio</h1>\n                                <UserInsights passusername={this.props.location.state.username} />\n                            </div>\n                        </div>\n                        <div className='content-block' id='user-insights'>\n                            <div className='content'>\n                            {mocked_insights(this.props)}\n                            </div>\n                        </div>\n                    </div>\n                    </>\n                )\n            }\n        } catch (error) {\n            return <PageNotFound />\n        }\n    }\n};\nexport default Dashboard;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n\n// Routes\nimport TestLogin from \"./Pages/TestLogin\";\n// import Profile from \"./Pages/Profile\";\nimport PageNotFound from \"./Pages/NotFound\";\nimport Dashboard from \"./components/dashboard\";\n\n// TODO - add logic to route to login page first, then dashboard\n//<Dashboard />\n\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Router>\n                <Switch>\n                    <Route exact path=\"/\" \n                            component={TestLogin} \n                            type=\"guest\"\n                    />\n    \n                    <Route exact path=\"/home\"\n                            component={Dashboard}\n                            type=\"private\"\n                    />\n    \n                    <Route path=\"*\" component={PageNotFound} />\n                </Switch>\n            </Router>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Pages\nimport App from './App';\n\n// CSS\nimport './bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root'),\n    () => console.log('component Mounted!!')\n);"],"sourceRoot":""}