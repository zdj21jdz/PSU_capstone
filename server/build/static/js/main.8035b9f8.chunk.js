(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(48),c=n.n(i),r=n(24),o=n(25),l=n(27),d=n(26),h=n(31),j=n(9),u=n(5),b=n(18),p=n(155),m=n(72),O=n.n(m),x=n(21),f=n.n(x),v=(n(67),n(0)),y=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",redirect:null},s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(b.a)(s)),s}return Object(o.a)(n,[{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target;this.setState(Object(u.a)({},t.name,t.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={submittedUsername:this.state.username,submittedPass:this.state.password};f.a.post("/logins",{postData:n},{headers:{"Content-Type":"application/json"}}).then((function(e){if("Invalid Credentials!"===e.data)alert(e.data);else{var n=Math.floor(Date.now()/1e3)+3600;setTimeout((function(){return t.props.history.push({pathname:"/home",state:{username:t.state.username,loggedIn:!0,token:e.data,tokenExp:n}})}),500)}})).catch((function(e){403===e.response.status?alert("User not yet validated - Check your email!"):alert("Too many bad attempts! Please wait a few minutes")}))}},{key:"render",value:function(){return this.state.redirect?Object(v.jsx)(j.a,{to:this.state.redirect}):Object(v.jsxs)("div",{className:"submit-form",children:[Object(v.jsx)("div",{id:"login-icon",children:Object(v.jsx)(O.a,{})}),Object(v.jsx)("div",{id:"banner",children:"Sign in"}),Object(v.jsx)("div",{id:"inputs",children:Object(v.jsxs)("form",{children:[Object(v.jsx)("label",{htmlFor:"user",children:"Username"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.username,onChange:this.handleInputChange,name:"username"}),Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"pass",required:!0,value:this.password,onChange:this.handleInputChange,name:"password"}),Object(v.jsx)(p.a,{variant:"contained",id:"login-btn",type:"submit",onClick:this.handleSubmit,children:"Login"})]})}),Object(v.jsx)("div",{id:"login-help",children:Object(v.jsx)("div",{id:"Sign-up",children:Object(v.jsx)("a",{href:"/newuser",children:"Don't have an Account? Sign Up"})})})]})}}]),n}(a.a.Component);var g=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Page not found"}),Object(v.jsx)(h.b,{to:{pathname:"/"},children:Object(v.jsx)("button",{children:"Login Page"})})]})},k=n(153),S=(n(115),n(156)),C=n(77),P=n.n(C),w=n(157),N=function(e){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(k.a,{position:"fixed",children:Object(v.jsxs)(S.a,{children:[Object(v.jsx)(w.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(v.jsx)(P.a,{})}),Object(v.jsx)(p.a,{color:"inherit",id:"Navbar-Brand",children:"PSUTrade"}),Object(v.jsxs)("div",{className:"navbar-nav me-auto",id:"sub-links",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(h.b,{to:{pathname:"/home",state:{username:e.username,tokenExp:e.tokenExp}},className:"nav-link",children:Object(v.jsx)(p.a,{className:"link-buttons",children:"Insights (home)"})})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(h.b,{to:{pathname:"/buysell",state:{username:e.username,tokenExp:e.tokenExp}},className:"nav-link",children:Object(v.jsx)(p.a,{className:"link-buttons",children:"Buy / Sell"})})})]}),Object(v.jsx)(p.a,{color:"inherit",children:Object(v.jsxs)(h.b,{to:"/",className:"nav-link",id:"logout-button",children:["Logout - ",e.username]})})]})}),Object(v.jsx)(S.a,{})," "]})};var I=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Session Expired - please log back in"}),Object(v.jsx)(h.b,{to:{pathname:"/"},children:Object(v.jsx)("button",{children:"Login Page"})})]})},L=(n(70),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={tUname:"test",isLoaded:!1,jdata:null},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.passusername;f.a.post("/posts",{uName:t},{headers:{"Content-Type":"application/json"}}).then((function(t){e.setState({isLoaded:!0,jdata:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.jdata;return t?null===n.portfolio.stocks||void 0===n.portfolio.stocks?Object(v.jsx)("div",{children:"You don't have any stocks yet!"}):Object(v.jsx)("div",{children:Object.keys(n.portfolio.stocks).map((function(e){var t=n.portfolio.stocks[e].current_price*n.portfolio.stocks[e].quantity;return Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsxs)("h5",{children:[e,": Current value held: $",t]}),Object(v.jsxs)("li",{children:["Current Price: $",n.portfolio.stocks[e].current_price]}),Object(v.jsxs)("li",{children:["Total Shares: ",n.portfolio.stocks[e].quantity]})]},e)}))}):Object(v.jsx)("div",{children:"Loading..."})}}]),n}(a.a.Component));var D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={isLoaded:!1,items:[]},s}return Object(o.a)(n,[{key:"render",value:function(){var e,t=Math.floor(Date.now()/1e3);try{return t>this.props.location.state.tokenExp?Object(v.jsx)(I,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsx)(N,{username:this.props.location.state.username,tokenExp:this.props.location.state.tokenExp})}),Object(v.jsx)("div",{id:"greeting",children:Object(v.jsxs)("h1",{children:["Good Morning, ",this.props.location.state.username,"!"]})}),Object(v.jsxs)("div",{id:"user-content",children:[Object(v.jsx)("div",{className:"content-block",id:"user-portfolio",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsxs)("h1",{children:[this.props.location.state.username,"'s Portfolio"]}),Object(v.jsx)(L,{passusername:this.props.location.state.username})]})}),Object(v.jsx)("div",{className:"content-block",id:"user-insights",children:Object(v.jsx)("div",{className:"content",children:(e=this.props,"test"===e.location.state.username?Object(v.jsxs)("div",{children:[Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsx)("h4",{children:Object(v.jsx)("b",{children:"APPL insights"})}),Object(v.jsx)("p",{children:"Apple is a tech firm based out of California, and has...."}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Stocks like APPL"})}),Object(v.jsx)("p",{children:"MSFT, NVDA, TSLA, FB, LYFT, UBER.."})]}),Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsx)("h4",{children:Object(v.jsx)("b",{children:"MSFT insights"})}),Object(v.jsx)("p",{children:"Microsoft is a tech firm based out of Washington state, and has..."}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Stocks like MSFT"})}),Object(v.jsx)("p",{children:"AAPL, NVDA, TSLA, FB, LYFT, UBER.."})]})]}):"test_xyz"===e.location.state.username?Object(v.jsxs)("div",{children:[Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsx)("h4",{children:Object(v.jsx)("b",{children:"BOIL insights"})}),Object(v.jsx)("p",{children:"BOIL is a leveraged ETF for natural gas, and has.."}),Object(v.jsx)("p",{children:"BOIL has notable changes due to seasonality!"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Stocks like BOIL"})}),Object(v.jsx)("p",{children:"KOLD, BP, RDS.A..."})]}),Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsx)("h4",{children:Object(v.jsx)("b",{children:"KOLD insights"})}),Object(v.jsx)("p",{children:"KOLD is a leveraged Short ETF for natural gas, and has.."}),Object(v.jsx)("p",{children:"KOLD has notable changes due to seasonality!"}),Object(v.jsx)("p",{children:"bla bla bla"}),Object(v.jsx)("h5",{children:Object(v.jsx)("b",{children:"Stocks like KOLD"})}),Object(v.jsx)("p",{children:"BOIL, BP, RDS.A..."})]})]}):Object(v.jsx)("div",{children:"Error Loading Data!"}))})})]})]})}catch(n){return Object(v.jsx)(g,{})}}}]),n}(a.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={username:"",password:"",email:"",confirmPassword:"",redirect:null},s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s.handleInputChange=s.handleInputChange.bind(Object(b.a)(s)),s}return Object(o.a)(n,[{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target;this.setState(Object(u.a)({},t.name,t.value))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.password!==this.state.confirmPassword)alert("Passwords do not match!");else{var t={submittedUsername:this.state.username,submittedPass:this.state.password,submittedEmail:this.state.email};f.a.post("/verifyEmail",{postData:t},{headers:{"Content-Type":"application/json"}}).then((function(e){alert(e.data)})).catch((function(e){console.log(e),401===e.response.status?alert("Please choose a different Username"):400===e.response.status?alert("Invalid Email"):alert("Internal Server Error")}))}}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"submit-form",children:[Object(v.jsx)("div",{id:"banner",children:"New User Sign Up"}),Object(v.jsx)("div",{id:"inputs",children:Object(v.jsxs)("form",{children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{type:"email",className:"form-control",id:"email",required:!0,value:this.email,onChange:this.handleInputChange,name:"email"}),Object(v.jsx)("label",{htmlFor:"user",children:"Username"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"name",required:!0,value:this.username,onChange:this.handleInputChange,name:"username"}),Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",className:"form-control",id:"pass",required:!0,value:this.password,onChange:this.handleInputChange,name:"password"}),Object(v.jsx)("label",{htmlFor:"Confirmpassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"Password",className:"form-control",id:"confPass",required:!0,value:this.confirmPassword,onChange:this.handleInputChange,name:"confirmPassword"}),Object(v.jsx)(p.a,{variant:"contained",id:"login-btn",type:"submit",onClick:this.handleSubmit,children:"Sign Up"})]})}),Object(v.jsx)("div",{id:"login-help",children:Object(v.jsx)("div",{id:"Sign-up",children:Object(v.jsx)("a",{href:"/",children:"Back to Home Page"})})})]})}}]),n}(a.a.Component);function T(e){this.setState({radio:e.target.id})}function F(e){e.preventDefault();var t=e.target;this.setState(Object(u.a)({},t.name,t.value))}function B(e){var t=this;e.preventDefault();var n=this.state.searchSymbol.toString().toUpperCase();(console.log(n),void 0===n)?alert("Please search for a symbol"):fetch("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol="+n+"&apikey=MWYCIJ7WHBXF94C0").then((function(e){return e.json()})).then((function(e){var s=e["Global Quote"]["05. price"];null===s||void 0===s?alert("Symbol not found!"):t.setState({buyPrice:s,buySym:n})}))}function U(e){e.preventDefault();var t=this.state.radio,n=this.state.sellQuantity,s=this.state.jdata.username;if(null===t||void 0===n||n<1)alert("Please select a stock and amount to sell!");else{var a=this.state.jdata.portfolio.stocks[t].quantity;if(n<=a){console.log("Success!"),console.log(t,n);var i={uName:s,submittedSymbol:t,submittedQuant:n,maxQuantity:a,updateType:"Sell"};f.a.post("/posts/updatePortfolio",{postData:i},{headers:{"Content-Type":"application/json"}}).then((function(e){alert("Sold "+n+" share(s) of "+t)})).catch((function(e){alert(e)}))}else alert("You only own "+a+" shares of "+t+". You can't sell "+n+" shares.")}}function A(e){var t=this;e.preventDefault();var n={submittedUsername:this.state.username,submittedPass:this.state.password};f.a.post("/buysell",{postData:n},{headers:{"Content-Type":"application/json"}}).then((function(e){if("Invalid Credentials!"===e.data)alert(e.data);else{var n=Math.floor(Date.now()/1e3)+3600;setTimeout((function(){return t.props.history.push({pathname:"/home",state:{username:t.state.username,loggedIn:!0,token:e.data,tokenExp:n}})}),500)}})).catch((function(e){403===e.response.status?alert("User not yet validated - Check your email!"):alert("Too many bad attempts! Please wait a few minutes")}))}function M(e){e.preventDefault(),console.log(e);var t=document.getElementById("purchaseQuant").value,n=document.getElementById("Pricex").innerHTML,s=document.getElementById("searchSymbol").value.toString().toUpperCase(),a=document.getElementById("uNamex").innerHTML.toString().slice(11);if(t>0&&null!==s&&void 0!==s){console.log("stock purchased!");var i={uName:a,submittedSymbol:s,submittedQuant:t,submittedPrice:n,updateType:"Buy"};f.a.post("/posts/updatePortfolio",{postData:i},{headers:{"Content-Type":"application/json"}}).then((function(e){alert("Stock Purchased")})).catch((function(e){alert(e)}))}else alert("Please select a quantity to purchase")}var q=function(e){return void 0!==e.buyPrice&&null!==e.buyPrice&&null!==e.buySym?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{style:{color:"#fffffff2"},children:["Ticker ",e.buySym," has the current per share value of: "]}),Object(v.jsx)("p",{id:"Pricex",style:{color:"#fffffff2"},children:e.buyPrice}),Object(v.jsxs)("p",{id:"uNamex",style:{color:"#fffffff2"},children:["Thank you, ",e.passusername]}),Object(v.jsxs)("p",{style:{color:"#fffffff2"},children:["How many shares would you like to purchase ",e.buySym,"?"]}),Object(v.jsx)("input",{type:"number",min:"1",name:"purchaseQuant",id:"purchaseQuant"}),Object(v.jsxs)(p.a,{variant:"contained",id:"login-btn",type:"submit",onClick:M,children:["Purchase shares of ",e.buySym]})]}):null},Q=(n(119),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={jdata:null,radio:null,buyPrice:null,buySym:null},s.handleSubmit=A.bind(Object(b.a)(s)),s.handleBuy=B.bind(Object(b.a)(s)),s.handleSell=U.bind(Object(b.a)(s)),s.handleInputChange=F.bind(Object(b.a)(s)),s.changeRadio=T.bind(Object(b.a)(s)),s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.username;f.a.post("/posts",{uName:t},{headers:{"Content-Type":"application/json"}}).then((function(t){e.setState({isLoaded:!0,jdata:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=Math.floor(Date.now()/1e3),n=this.state.jdata;try{return t>this.props.location.state.tokenExp?Object(v.jsx)(I,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsx)(N,{username:this.props.location.state.username,tokenExp:this.props.location.state.tokenExp})}),Object(v.jsx)("div",{id:"greeting",children:Object(v.jsxs)("h1",{children:["Let's buy some stocks, ",this.props.location.state.username,"!"]})}),Object(v.jsxs)("div",{id:"user-content",children:[Object(v.jsx)("div",{className:"content-block",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h1",{children:"Buy Stocks"}),Object(v.jsx)("div",{id:"inputs",children:Object(v.jsxs)("form",{children:[Object(v.jsx)("label",{htmlFor:"searchSymbol",children:"Search for a Symbol"}),Object(v.jsx)("input",{type:"integer",className:"form-control",id:"searchSymbol",required:!0,value:this.buySymbol,onChange:this.handleInputChange,name:"searchSymbol"}),Object(v.jsx)(p.a,{variant:"contained",id:"login-btn",type:"submit",onClick:this.handleBuy,children:"Check for symbol"})]})}),Object(v.jsx)(q,{buyPrice:this.state.buyPrice,buySym:this.state.buySym,passusername:this.props.location.state.username})]})}),Object(v.jsx)("div",{className:"content-block",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h1",{children:"Sell Stocks"}),Object(v.jsx)("div",{id:"inputs",children:Object(v.jsxs)("form",{children:[void 0!==n.portfolio.stocks&&Object.keys(n.portfolio.stocks).map((function(t){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{type:"radio",id:t,name:"radio",value:t,onChange:e.changeRadio}),Object(v.jsx)("label",{htmlFor:t,children:t}),Object(v.jsx)("br",{})]})})),Object(v.jsx)("label",{htmlFor:"sellQuantity",children:"Specify Amount"}),Object(v.jsx)("input",{type:"number",className:"form-control",id:"sellQuantity",required:!0,value:this.sellSymbolQuantity,onChange:this.handleInputChange,name:"sellQuantity",min:"1",max:"20"}),Object(v.jsx)(p.a,{variant:"contained",id:"login-btn",type:"submit",onClick:this.handleSell,children:"Sell Stock(s)"})]})})]})}),Object(v.jsx)("div",{className:"content-block",children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("h2",{children:"Current Portfolio"}),Object(v.jsxs)("div",{children:[void 0!==n.portfolio.stocks&&Object.keys(n.portfolio.stocks).map((function(e){var t=n.portfolio.stocks[e].current_price,s=n.portfolio.stocks[e].quantity,a=t*s;return Object(v.jsxs)("ul",{id:"stock_listings",children:[Object(v.jsxs)("h5",{children:[e," - ",s," shares @ $",t,"/share"]},e+"h5"),Object(v.jsxs)("li",{children:["Current value held: $",a]},e)]},e+"ul")})),void 0===n.portfolio.stocks?Object(v.jsx)("h4",{children:"You have no stocks!"}):Object(v.jsx)("p",{children:"All stocks loaded"})]})]})})]})]})}catch(s){return Object(v.jsx)(g,{})}}}]),n}(a.a.Component)),_=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)(h.a,{children:Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.b,{exact:!0,path:"/",component:y,type:"guest"}),Object(v.jsx)(j.b,{exact:!0,path:"/home",component:D,type:"private"}),Object(v.jsx)(j.b,{exact:!0,path:"/buysell",component:Q,type:"private"}),Object(v.jsx)(j.b,{exact:!0,path:"/newuser",component:E,type:"guest"}),Object(v.jsx)(j.b,{path:"*",component:g})]})})}}]),n}(a.a.Component),Y=_;n(120);c.a.render(Object(v.jsx)(Y,{}),document.getElementById("root"),(function(){return console.log("component Mounted!!")}))},67:function(e,t,n){},70:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.8035b9f8.chunk.js.map